{"ast":null,"code":"import _defineProperty from\"/Users/ashley/Documents/Code/dance-finder-react/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/ashley/Documents/Code/dance-finder-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/ashley/Documents/Code/dance-finder-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/ashley/Documents/Code/dance-finder-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/ashley/Documents/Code/dance-finder-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/ashley/Documents/Code/dance-finder-react/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/ashley/Documents/Code/dance-finder-react/node_modules/@babel/runtime/helpers/esm/createSuper.js\";// const Dance = () => {\nimport React from\"react\";import'./dance.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dance=/*#__PURE__*/function(_React$Component){_inherits(Dance,_React$Component);var _super=_createSuper(Dance);function Dance(props){var _this;_classCallCheck(this,Dance);_this=_super.call(this,props);_this.state={iSong:'',iArtist:'',song:'',artist:'',image:'',tempo:'',time_signature:'',preview:'',dances:[],showInfo:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Dance,[{key:\"handleChange\",value:function handleChange(event){this.setState(_objectSpread(_objectSpread({},this.state),{},_defineProperty({},event.target.name,event.target.value)));}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;event.preventDefault();var song=this.state.iSong;fetch('/song_data?'+new URLSearchParams({song:song,artist:this.state.iArtist})).then(function(response){return response.json();}).then(function(body){console.log(\"song submitted: \"+song);console.log(\"received analysis: \"+body);_this2.setState({song:body.song,artist:body.artist,image:body.image,preview:body.preview,tempo:body.tempo,time_signature:body.time_signature,dances:body.dances});_this2.setState({showInfo:true});}).catch(function(error){console.log(error);});}},{key:\"handleDanceClick\",value:function handleDanceClick(dance,_){var lowerdance=dance.toLowerCase();var socialDances=[\"salsa\",\"merengue\",\"bachata\",\"hustle\",\"west coast swing\",\"polka\"];var latinDances=[\"cha cha\",\"rhumba\",\"east coast swing\",\"mambo\",\"bolero\",\"samba\",\"paso doble\",\"jive\"];var standardDances=[\"waltz\",\"tango\",\"foxtrot\",\"viennese waltz\",\"quickstep\"];if(socialDances.includes(lowerdance)){window.location.href=\"/info/social#\".concat(lowerdance);}if(latinDances.includes(lowerdance)){window.location.href=\"/info/rhythm-latin#\".concat(lowerdance);}if(standardDances.includes(lowerdance)){window.location.href=\"/info/smooth-standard#\".concat(lowerdance);}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Discover the dances!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"iSong\",value:this.state.iSong,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Song title:\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"iArtist\",value:this.state.iArtist,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Artist (optional):\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Search!\"})]})]}),this.state.showInfo&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{height:\"1500px\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"song-info-box\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Song selected:\"}),\" \",this.state.song,\" by \",this.state.artist]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"dances-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dances-child\",children:[/*#__PURE__*/_jsx(\"img\",{src:this.state.image,width:\"300\",height:\"300\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"17px\"},children:[\"Tempo: \",this.state.tempo,\"  |  Time Signature: \",this.state.time_signature]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dances-child\",children:/*#__PURE__*/_jsx(\"div\",{className:\"dance-list\",children:this.state.dances.map(function(dance){return/*#__PURE__*/_jsx(\"li\",{onClick:_this3.handleDanceClick.bind(_this3,dance),children:dance});})})})]})]})]})]});}}]);return Dance;}(React.Component);export default Dance;","map":{"version":3,"sources":["/Users/ashley/Documents/Code/dance-finder-react/front-end/src/pages/dance.js"],"names":["React","Dance","props","state","iSong","iArtist","song","artist","image","tempo","time_signature","preview","dances","showInfo","handleChange","bind","handleSubmit","event","setState","target","name","value","preventDefault","fetch","URLSearchParams","then","response","json","body","console","log","catch","error","dance","_","lowerdance","toLowerCase","socialDances","latinDances","standardDances","includes","window","location","href","height","fontSize","map","handleDanceClick","Component"],"mappings":"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","sourcesContent":["// const Dance = () => {\n\nimport React from \"react\";\nimport './dance.css';\n\nclass Dance extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            iSong: '',\n            iArtist: '',\n            song: '',\n            artist: '',\n            image: '',\n            tempo: '',\n            time_signature: '',\n            preview: '',\n            dances: [],\n            showInfo: false\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(event) {\n        this.setState({\n            ...this.state,\n            [event.target.name]: event.target.value,\n        });\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        var song = this.state.iSong;\n        fetch('/song_data?' + new URLSearchParams({\n            song: song,\n            artist: this.state.iArtist,\n        }))\n            .then((response) => response.json())\n            .then((body) => {\n                console.log(\"song submitted: \" + song);\n                console.log(\"received analysis: \" + body);\n                this.setState({\n                    song: body.song,\n                    artist: body.artist,\n                    image: body.image,\n                    preview: body.preview,\n                    tempo: body.tempo,\n                    time_signature: body.time_signature,\n                    dances: body.dances\n                });\n                this.setState({ showInfo: true });\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n    }\n\n    handleDanceClick(dance, _) {\n        const lowerdance = dance.toLowerCase();\n        const socialDances = [\"salsa\", \"merengue\", \"bachata\", \"hustle\", \"west coast swing\", \"polka\"];\n        const latinDances = [\"cha cha\", \"rhumba\", \"east coast swing\", \"mambo\", \"bolero\", \"samba\", \"paso doble\", \"jive\"];\n        const standardDances = [\"waltz\", \"tango\", \"foxtrot\", \"viennese waltz\", \"quickstep\"];\n        if (socialDances.includes(lowerdance)) {\n            window.location.href = `/info/social#${lowerdance}`\n        }\n        if (latinDances.includes(lowerdance)) {\n            window.location.href = `/info/rhythm-latin#${lowerdance}`\n        }\n        if (standardDances.includes(lowerdance)) {\n            window.location.href = `/info/smooth-standard#${lowerdance}`\n        }\n    }\n\n    render() {\n        return (\n            <header className=\"App-header\">\n                <div className=\"search-box\">\n                    <h2>Discover the dances!</h2>\n                    <form onSubmit={this.handleSubmit}>\n                        <div className=\"input-box\">\n                            <input type=\"text\" name=\"iSong\" value={this.state.iSong} onChange={this.handleChange} required />\n                            <label>Song title:</label>\n                        </div>\n                        <br />\n                        <div className=\"input-box\">\n                            <input type=\"text\" name=\"iArtist\" value={this.state.iArtist} onChange={this.handleChange} />\n                            <label>Artist (optional):</label>\n                        </div>\n                        <br />\n                        <input type=\"submit\" value=\"Search!\" />\n                    </form>\n                </div>\n                {this.state.showInfo &&\n                    <div>\n                        <div style={{ height: \"1500px\" }}></div>\n                        <div className=\"song-info-box\">\n                            <p><b>Song selected:</b> {this.state.song} by {this.state.artist}</p>\n                            <br />\n                            <div className=\"dances-container\">\n                                <div className=\"dances-child\">\n                                    <img src={this.state.image} width=\"300\" height=\"300\" />\n                                    <br />\n                                    <p style={{ fontSize: \"17px\" }}>Tempo: {this.state.tempo}  |  Time Signature: {this.state.time_signature}</p>\n                                </div>\n                                <div className=\"dances-child\">\n\n                                    <div className=\"dance-list\">\n                                        {this.state.dances.map((dance) => (\n                                            <li onClick={this.handleDanceClick.bind(this, dance)}>{dance}</li>\n                                        ))}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                }\n            </header>\n        );\n    }\n}\n\nexport default Dance;"]},"metadata":{},"sourceType":"module"}